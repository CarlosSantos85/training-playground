pipeline {
agent {
        docker {
            image 'alpine:latest'
        }
    }
    stages {
        stage('User Input') {
            steps {
                script {
                    def userInput = input(
                        message: 'Select a stage to execute (build/test):',
                        parameters: [choice(choices: ['build', 'test','bananas'], description: 'Select a stage', name: 'stageSelection')]
                    )
                    def selectedStage = userInput.toUpperCase()

                    if (selectedStage == 'BUILD') {
                        buildStage()
                    } else if (selectedStage == 'TEST') {
                        testStage()
                    } else {
                        error "Invalid stage selection: ${selectedStage}"
                    }
                }
            }
        }
    }
}

def buildStage() {
    stages {
        stage('BUILD') {
            steps {
                echo 'Hello, World!'
                // Other steps go here
            }
        }
    }
}

 
def testStage() {
    stages {
        stage('BUILD') {
            steps {
                echo 'Hello, World!'
                // Other steps go here
            }
        }
    }
}
